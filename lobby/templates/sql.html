{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consulta SQL</title>
    <link rel="stylesheet" href="{% static 'css/normalize.css' %}">
    <link rel="stylesheet" href="{% static 'css/sql.css' %}">

</head>

<body>
    <h1>Lobby Estadisticas</h1>

    <button id="toggleTheme">Cambiar tema</button>
    <button id="ejecutarTodo" onclick="ejecutarTodasLasConsultas()">Ejecutar Todo</button>
    <div id="loader" style="display:none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5);  align-items: center; justify-content: center; z-index: 1000;">
        <div class="newtons-cradle">
            <div class="newtons-cradle__dot"></div>
            <div class="newtons-cradle__dot"></div>
            <div class="newtons-cradle__dot"></div>
            <div class="newtons-cradle__dot"></div>
        </div>
    </div>

    <!-- 1. Datos del Usuario con ID 3 -->
    <div class="consulta">
        <h2>Datos del Usuario con ID 3</h2>
        <button onclick="ejecutarConsulta('user', 'resultadoUser')">Ejecutar consulta</button>
        <div id="resultadoUser" style="display:none;">
            {% for row in user %}
            <p>{{ row }}</p>
            {% empty %}
            <p>No hay datos disponibles</p>
            {% endfor %}
        </div>
    </div>

    <!-- 2. Torneos -->
    <div class="consulta">
        <h2>Torneos</h2>
        <button onclick="ejecutarConsulta('torneos', 'resultadoTorneos')">Ejecutar consulta</button>
        <div id="resultadoTorneos" style="display:none;">
            {% for torneo in torneos %}
            <p>Nombre: {{ torneo.1 }} - Fecha: {{ torneo.2|date:"d/m/Y" }} - Participantes: {{ torneo.3 }}</p>
            {% empty %}
            <p>No hay torneos disponibles</p>
            {% endfor %}
        </div>
    </div>

    <!-- 3. Participantes en el Torneo -->
    <div class="consulta">
        <h2>Participantes en el Torneo</h2>
        <button onclick="ejecutarConsulta('participantes', 'resultadoParticipantes')">Ejecutar consulta</button>
        <div id="resultadoParticipantes" style="display:none;">
            {% for participante in participantes %}
            <p>{{ participante }}</p>
            {% empty %}
            <p>No hay participantes disponibles</p>
            {% endfor %}
        </div>
    </div>

    <!-- 4. Usuarios con Reservaciones -->
    <div class="consulta">
        <h2>Usuarios con Reservaciones</h2>
        <button onclick="ejecutarConsulta('usuariosConReservacion', 'resultadoUsuariosConReservacion')">Ejecutar
            consulta</button>
        <div id="resultadoUsuariosConReservacion" style="display:none;">
            {% for usuario in usuarios_con_reservacion %}
            <p>{{ usuario }}</p>
            {% empty %}
            <p>No hay usuarios con reservaciones</p>
            {% endfor %}
        </div>
    </div>

    <!-- 5. Promociones asociadas a la sucursal 2 -->
    <div class="consulta">
        <h2>Promociones asociadas a la sucursal 2</h2>
        <button onclick="ejecutarConsulta('promocionesSucursal2', 'resultadoPromocionesSucursal2')">Ejecutar consulta</button>
        <div id="resultadoPromocionesSucursal2" style="display:none;">
            {% for promocion in promociones_sucursal_2 %}
                <p>{{ promocion }}</p>
            {% empty %}
                <p>No hay promociones actualmente en sucursal</p>
            {% endfor %}
        </div>
    </div>

    <!-- 6. Productos de la Sucursal 3 -->
    <div class="consulta">
        <h2>Productos de la Sucursal 3</h2>
        <button onclick="ejecutarConsulta('productosSucursal3', 'resultadoProductosSucursal3')">Ejecutar consulta</button>
        <div id="resultadoProductosSucursal3" style="display:none;">
            {% for producto in productos_sucursal_3 %}
                <p>{{ producto }}</p>
            {% empty %}
                <p>No hay productos en la Sucursal 3</p>
            {% endfor %}
        </div>
    </div>

        <!-- 7. Reservaciones del 24/11/24 -->
    <div class="consulta">
        <h2>Reservaciones del 24/11/24</h2>
        <button onclick="ejecutarConsulta('reservaciones24Nov', 'resultadoReservaciones24Nov')">Ejecutar consulta</button>
        <div id="resultadoReservaciones24Nov" style="display:none;">
            {% for reservacion in reservaciones_24_nov %}
                <p>{{ reservacion }}</p>
            {% empty %}
                <p>No hay reservaciones para el 24/11/24</p>
            {% endfor %}
        </div>
    </div>
    
        <!-- 8. Productos de tipo Bebidas sin Alcohol -->
    <div class="consulta">
        <h2>Productos de tipo Bebidas sin Alcohol</h2>
        <button onclick="ejecutarConsulta('productosBebidasSinAlcohol', 'resultadoProductosBebidasSinAlcohol')">Ejecutar consulta</button>
        <div id="resultadoProductosBebidasSinAlcohol" style="display:none;">
            {% for producto in productos_bebidas_sin_alcohol %}
                <p>{{ producto }}</p>
            {% empty %}
                <p>No hay productos de tipo Bebidas sin Alcohol</p>
            {% endfor %}
        </div>
    </div>

    <!-- 9. Torneos del 30/11/24 -->
    <div class="consulta">
        <h2>Torneos del 30/11/24</h2>
        <button onclick="ejecutarConsulta('torneos30Nov', 'resultadoTorneos30Nov')">Ejecutar consulta</button>
        <div id="resultadoTorneos30Nov" style="display:none;">
            {% for torneo in torneos_30_nov %}
                <p>ID: {{ torneo.0 }}, Nombre: {{ torneo.1 }}, Fecha: {{ torneo.2|date:"d/m/Y" }}, Participantes: {{ torneo.3 }}</p>
            {% empty %}
                <p>No hay torneos programados para el 30/11/24</p>
            {% endfor %}
        </div>
    </div>
    
    <!-- 10. Descripción de la Promoción con ID 27 -->
    <div class="consulta">
        <h2>Descripción de la Promoción con ID 27</h2>
        <button onclick="ejecutarConsulta('promocion27', 'resultadoPromocion27')">Ejecutar consulta</button>
        <div id="resultadoPromocion27" style="display:none;">
            {% for promocion in promocion_27 %}
                <p>{{ promocion }}</p>
            {% empty %}
                <p>No hay descripción para la promoción con ID 27</p>
            {% endfor %}
        </div>
    </div>

    <!-- 11. Sucursales con muchas reservaciones -->
    <div class="consulta">
        <h2>Sucursales con muchas reservaciones</h2>
        <button onclick="ejecutarConsulta('sucursalesConReservaciones', 'resultadoSucursalesConReservaciones')">Ejecutar consulta</button>
        <div id="resultadoSucursalesConReservaciones" style="display:none;">
            {% for sucursal in sucursales_con_muchas_reservaciones %}
                <p>{{ sucursal.nombre_sucursal }}: {{ sucursal.total_reservaciones }}</p>
            {% empty %}
                <p>No hay sucursales con muchas reservaciones</p>
            {% endfor %}
        </div>
    </div>
    
        <!-- 12. Tipos con muchos productos -->
    <div class="consulta">
        <h2>Tipos con muchos productos</h2>
        <button onclick="ejecutarConsulta('tiposConMuchosProductos', 'resultadoTiposConMuchosProductos')">Ejecutar consulta</button>
        <div id="resultadoTiposConMuchosProductos" style="display:none;">
            {% for tipo in tipos_con_muchos_productos %}
                <p>{{ tipo.tipo }}: {{ tipo.total_productos }}</p>
            {% empty %}
                <p>No hay tipos con muchos productos</p>
            {% endfor %}
        </div>
    </div>
    
    <!-- 13. Modos con muchos torneos -->
    <div class="consulta">
        <h2>Modos con muchos torneos</h2>
        <button onclick="ejecutarConsulta('modosConMuchosTorneos', 'resultadoModosConMuchosTorneos')">Ejecutar consulta</button>
        <div id="resultadoModosConMuchosTorneos" style="display:none;">
            {% for modo in modos_con_muchos_torneos %}
                <p>{{ modo.modo_torneo }}: {{ modo.total_torneos }}</p>
            {% empty %}
                <p>No hay modos con muchos torneos</p>
            {% endfor %}
        </div>
    </div>
    
    <!-- 14. Torneos con muchos usuarios -->
    <div class="consulta">
        <h2>Torneos con muchos usuarios</h2>
        <button onclick="ejecutarConsulta('torneosConMuchosUsuarios', 'resultadoTorneosConMuchosUsuarios')">Ejecutar consulta</button>
        <div id="resultadoTorneosConMuchosUsuarios" style="display:none;">
            {% for torneo in torneos_con_muchos_usuarios %}
                <p>{{ torneo.nombre_torneo }}: {{ torneo.total_usuarios }}</p>
            {% empty %}
                <p>No hay torneos con muchos usuarios</p>
            {% endfor %}
        </div>
    </div>
    
    <!-- 15. Fechas con muchas reservaciones -->
    <div class="consulta">
        <h2>Fechas con muchas reservaciones</h2>
        <button onclick="ejecutarConsulta('fechasConReservaciones', 'resultadoFechasConReservaciones')">Ejecutar consulta</button>
        <div id="resultadoFechasConReservaciones" style="display:none;">
            {% for fecha in fechas_con_muchas_reservaciones %}
                <p>{{ fecha.fecha_reservacion|date:"d/m/Y" }}: {{ fecha.total_reservaciones }}</p>
            {% empty %}
                <p>No hay fechas con muchas reservaciones</p>
            {% endfor %}
        </div>
    </div>
    
    <!-- 16. Sucursales con muchas promociones -->
    <div class="consulta">
        <h2>Sucursales con muchas promociones</h2>
        <button onclick="ejecutarConsulta('sucursalesConPromociones', 'resultadoSucursalesConPromociones')">Ejecutar consulta</button>
        <div id="resultadoSucursalesConPromociones" style="display:none;">
            {% for sucursal in sucursales_con_muchas_promociones %}
                <p>{{ sucursal.nombre_sucursal }}: {{ sucursal.total_promociones }}</p>
            {% empty %}
                <p>No hay sucursales con muchas promociones</p>
            {% endfor %}
        </div>
    </div>
    
    <!-- 17. Sucursales con muchos productos -->
    <div class="consulta">
        <h2>Sucursales con muchos productos</h2>
        <button onclick="ejecutarConsulta('sucursalesConMuchosProductos', 'resultadoSucursalesConMuchosProductos')">Ejecutar consulta</button>
        <div id="resultadoSucursalesConMuchosProductos" style="display:none;">
            {% for sucursal in sucursales_con_muchos_productos %}
                <p>{{ sucursal.nombre_sucursal }}: {{ sucursal.total_productos }}</p>
            {% empty %}
                <p>No hay sucursales con muchos productos</p>
            {% endfor %}
        </div>
    </div>
    
    <!-- 18. Productos por tipo y sucursal -->
    <div class="consulta">
        <h2>Productos por tipo y sucursal</h2>
        <button onclick="ejecutarConsulta('productosPorTipoYSucursal', 'resultadoProductosPorTipoYSucursal')">Ejecutar consulta</button>
        <div id="resultadoProductosPorTipoYSucursal" style="display:none;">
            {% for producto in productos_por_tipo_y_sucursal %}
                <p>{{ producto.nombre_sucursal }} - {{ producto.tipo }}: {{ producto.total_productos }}</p>
            {% empty %}
                <p>No hay productos por tipo y sucursal</p>
            {% endfor %}
        </div>
    </div>
    
    <!-- 19. Torneos del 30/11/24 por modo -->
    <div class="consulta">
        <h2>Torneos del 30/11/24 por modo</h2>
        <button onclick="ejecutarConsulta('torneos30NovPorModo', 'resultadoTorneos30NovPorModo')">Ejecutar consulta</button>
        <div id="resultadoTorneos30NovPorModo" style="display:none;">
            {% for torneo in torneos_30_nov_por_modo %}
                <p>{{ torneo.modo_torneo }}: {{ torneo.total_torneos }}</p>
            {% empty %}
                <p>No hay productos por tipo y sucursal</p>
            {% endfor %}
        </div>
    </div>
    
    <!-- 20. Promedio de productos por sucursal -->
    <div class="consulta">
        <h2>Promedio de productos por sucursal</h2>
        <button onclick="ejecutarConsulta('promedioProductosPorSucursal', 'resultadoPromedioProductosPorSucursal')">Ejecutar consulta</button>
        <div id="resultadoPromedioProductosPorSucursal" style="display:none;">
            {% for sucursal in promedio_productos_por_sucursal %}
                <p>{{ sucursal.nombre_sucursal }}: {{ sucursal.promedio_productos }}</p>
            {% empty %}
                <p>No hay productos por tipo y sucursal</p>
            {% endfor %}
        </div>
    </div>




    <script src="{% static 'js/sql.js' %}"></script>
</body>

</html>